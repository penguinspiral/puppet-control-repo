# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`profiles::apt`](#profilesapt): Manages Debian's Advanced Package Tool (APT) configuration/behaviour
Responsible for repository sources, package pins, repository GPG keys, etc
Predominantly a wrapper around the 'puppetlabs-apt' Forge module
* [`profiles::bootstrap`](#profilesbootstrap): Performs minimal alteration required for a full Puppet run at first boot
This profile operates within a "limited" Debian Preseed chrooted environment
Consequently extending this profile and its subclasses is discouraged
* [`profiles::bootstrap::node`](#profilesbootstrapnode): Specifies how a targeted node's Puppet agent obtains its catalog
Supports both a client-only and standalone (a.k.a. serverless) configuration
* [`profiles::bootstrap::node::agent`](#profilesbootstrapnodeagent): Specifies the Puppet agent's targeted Puppetserver for obtain its catalog
Configures the Puppet agent to run at startup via systemd
* [`profiles::bootstrap::node::server`](#profilesbootstrapnodeserver): Configures a Puppetserver to support a "serverless" Puppet deployment
Binds the Puppetserver daemon to localhost for isolated catalog generation
Automatically generated CA environment includes "localhost" as a X509v3 SAN
* [`profiles::bootstrap::seed`](#profilesbootstrapseed): Unique, singular "seed" node configuration
Manually specifies the static "seed" role fact
* [`profiles::dhcp`](#profilesdhcp): Manages isc-dhcp-server configuration/behaviour
Responsible for subnet allocation, host reservations, (i)PXE URIs, etc
Predominantly a wrapper around the 'puppet-dhcp' Forge module
* [`profiles::disk`](#profilesdisk): Manages the node's "external" block devices (i.e. non-root)
Performs filesystem creation and manages mount behaviours
* [`profiles::dns`](#profilesdns): Manages ISC BIND DNS server (bind9) configuration/behaviour
Responsible for zone allocation, recursion & forwarding, rndc keys, etc.
Predominantly a wrapper around the 'theforeman-dns' Forge module
* [`profiles::network`](#profilesnetwork): Manages the node's network interface(s), static route(s), rule(s)
Leverages the '/etc/network/interfaces' consumed by `ifup/ifdown`
* [`profiles::ssh`](#profilesssh): Manages Open Secure SHell (OpenSSH) Client & Server configuration
Responsible for configuration of ssh_config(5) and sshd_config(5) options
Predominantly a wrapper around the 'ghoneycutt-ssh' Forge module

## Classes

### `profiles::apt`

Manages Debian's Advanced Package Tool (APT) configuration/behaviour
Responsible for repository sources, package pins, repository GPG keys, etc
Predominantly a wrapper around the 'puppetlabs-apt' Forge module

#### Examples

##### 

```puppet
include profiles::apt
```

#### Parameters

The following parameters are available in the `profiles::apt` class.

##### `purge`

Data type: `Hash`

Specify APT repository configuration file(s) to empty contents
Wrapper parameter: 'puppetlabs-apt' module class parameter

Default value: `{}`

##### `sources`

Data type: `Hash`

Specify APT respository URI and corresponding settings (e.g. repos)
Wrapper parameter: 'puppetlabs-apt' module class parameter

Default value: `{}`

### `profiles::bootstrap`

Performs minimal alteration required for a full Puppet run at first boot
This profile operates within a "limited" Debian Preseed chrooted environment
Consequently extending this profile and its subclasses is discouraged

#### Examples

##### 

```puppet
include profiles::bootstrap
```

#### Parameters

The following parameters are available in the `profiles::bootstrap` class.

##### `seed`

Data type: `Boolean`

Specifies additional bootstrapping configuration for the given "seed" node

Default value: ``false``

### `profiles::bootstrap::node`

Specifies how a targeted node's Puppet agent obtains its catalog
Supports both a client-only and standalone (a.k.a. serverless) configuration

#### Examples

##### 

```puppet
include profiles::bootstrap
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::node` class.

##### `serverless`

Data type: `Boolean`

Installs and configures a locally hosted Puppetserver for catalog generation

Default value: ``true``

### `profiles::bootstrap::node::agent`

Specifies the Puppet agent's targeted Puppetserver for obtain its catalog
Configures the Puppet agent to run at startup via systemd

#### Examples

##### 

```puppet
include profiles::bootstrap
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::node::agent` class.

##### `puppet_config`

Data type: `Stdlib::AbsolutePath`

Specify the absolute path to the global Puppet configuration file

Default value: `$settings::config`

##### `puppetserver`

Data type: `Stdlib::Host`

Specify the hostname of the targeted Puppetserver

Default value: `'localhost'`

### `profiles::bootstrap::node::server`

Configures a Puppetserver to support a "serverless" Puppet deployment
Binds the Puppetserver daemon to localhost for isolated catalog generation
Automatically generated CA environment includes "localhost" as a X509v3 SAN

#### Examples

##### 

```puppet
include profiles::bootstrap
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::node::server` class.

##### `puppet_config`

Data type: `Stdlib::AbsolutePath`

Specify the absolute path to the global Puppet configuration file

Default value: `$settings::config`

##### `puppetserver_web_config`

Data type: `Stdlib::AbsolutePath`

Specify the absolute path to the Puppetserver Webserver configuration file

Default value: `'/etc/puppetlabs/puppetserver/conf.d/webserver.conf'`

##### `r10k_binary`

Data type: `Stdlib::AbsolutePath`

Specify the absolute path to the r10k binary

Default value: `'/usr/bin/r10k'`

##### `r10k_config`

Data type: `Stdlib::AbsolutePath`

Specify the absolute path to the r10k configuration file
Tracked file within the penguinspiral/puppet-r10k Git repository

Default value: `'/etc/puppetlabs/r10k/r10k.yaml'`

### `profiles::bootstrap::seed`

Unique, singular "seed" node configuration
Manually specifies the static "seed" role fact

#### Examples

##### 

```puppet
include profiles::bootstrap
```

### `profiles::dhcp`

Manages isc-dhcp-server configuration/behaviour
Responsible for subnet allocation, host reservations, (i)PXE URIs, etc
Predominantly a wrapper around the 'puppet-dhcp' Forge module

* **See also**
  * https://tools.ietf.org/html/rfc2132
    * https://tools.ietf.org/html/rfc3397

#### Examples

##### 

```puppet
include profiles::dhcp
```

#### Parameters

The following parameters are available in the `profiles::dhcp` class.

##### `service_ensure`

Data type: `Stdlib::Ensure::Service`

Specify whether the isc-dhcp-server service state
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `'stopped'`

##### `interfaces`

Data type: `Array[String[1]]`

Specify interface(s) for isc-dhcp-server to listen on (UDP/67)
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `[]`

##### `dnsdomain`

Data type: `Array[String[1]]`

Specify "global" DNS domains (Option 15)
First DNS domain element is assigned the 'domain-name' option
Subsequent DNS domain element(s) are utilised with DDNS zones
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `[]`

##### `nameservers`

Data type: `Array[Stdlib::IP::Address::V4]`

Specify "global" DNS nameserver(s) IPv4 addresses (Option 6)
First DNS nameserver is specified as "primary" for all DDNS zones
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `[]`

##### `dnssearchdomains`

Data type: `Array[String[1]]`

Specify "global" DNS "search" domains (Option 119)
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `[]`

##### `ntpservers`

Data type: `Array[Variant[Stdlib::Fqdn,Stdlib::IP::Address]]`

Specify Network Time Protocol (NTP) server(s) (Option 4)
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `[]`

##### `dnsupdatekey`

Data type: `Optional[Stdlib::Absolutepath]`

Specify a Remote Name Daemon Control (RNDC) key file for Dynamic DNS (DDNS)
DDNS is disabled unless the absolute path for a valid key is set
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: ``undef``

##### `dnskeyname`

Data type: `String[1]`

Specify the RNDC key name for reference in DDNS zone definitions
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `'rndc-key'`

##### `ddns_client_updates`

Data type: `Enum['allow', 'deny']`

Specify whether perform DDNS updates for clients on their behalf
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `'deny'`

##### `ddns_update_style`

Data type: `Enum['ad-hoc', 'interim', 'standard', 'none']`

Specify DDNS update "style"; communication method between DHCP & DNS server
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `'standard'`

##### `ddns_update_static`

Data type: `Enum['on', 'off']`

Specify whether to perform DNS updates for assigned "static" clients
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `'off'`

##### `ddns_update_optimize`

Data type: `Enum['on', 'off']`

Specify whether to perform DDNS updates "on-change" or "always"
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `'on'`

##### `pools`

Data type: `Hash[String, Hash]`

Specify DHCP pool(s)/zone(s) attributes (e.g. subnets, gateway, etc)
Wrapper parameter: 'puppet-dhcp' module class parameter

Default value: `{}`

### `profiles::disk`

Manages the node's "external" block devices (i.e. non-root)
Performs filesystem creation and manages mount behaviours

#### Examples

##### 

```puppet
include profiles::disk
```

#### Parameters

The following parameters are available in the `profiles::disk` class.

##### `filesystems`

Data type: `Hash`

Format target block device(s) with specified filesystem
Arbritrary filesystem options during initial creation/format can be specified
Wrapper parameter: 'puppetlabs-lvm' module filesystem custom "type"
Title: udev disk by-id value (recommended)

Default value: `{}`

##### `mounts`

Data type: `Hash`

Mount options of the target block device(s)
Title: udev disk by-uuid (filesystem)

Default value: `{}`

### `profiles::dns`

Manages ISC BIND DNS server (bind9) configuration/behaviour
Responsible for zone allocation, recursion & forwarding, rndc keys, etc.
Predominantly a wrapper around the 'theforeman-dns' Forge module

#### Examples

##### 

```puppet
include profiles::dns
```

#### Parameters

The following parameters are available in the `profiles::dns` class.

##### `service_ensure`

Data type: `Stdlib::Ensure::Service`

Specify the bind9 service state
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `'stopped'`

##### `config_check`

Data type: `Boolean`

Specify whether DNS server configuration files are validated
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: ``true``

##### `recursion`

Data type: `Enum['yes', 'no']`

Specify whether the DNS server operates in "Recursive Mode"
Ref: "Recursive Mode" definition (https://tools.ietf.org/html/rfc7719)
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `'no'`

##### `allow_recursion`

Data type: `Array[String]`

Specify the *global* "address(es)" allowed to perform "recursive" queries
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `['none']`

##### `allow_query`

Data type: `Array[String]`

Specify the *global* "address(es)" allowed to perform managed zone queries
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `['none']`

##### `forward`

Data type: `Optional[Enum['only', 'first']]`

Specify the "type" of DNS query forwarding to be performed
Ref: "Forwarders" definition (https://tools.ietf.org/html/rfc7719)
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: ``undef``

##### `forwarders`

Data type: `Array[Stdlib::IP::Address::V4]`

Specify the DNS server(s) IPs that will answer forwarded DNS queries
Leveraging Stdlib IPv4 type to adhere to 'bind9' compatibility
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `[]`

##### `acls`

Data type: `Hash[String, Array[String]]`

Specify Access Control List(s) (ACL) statement(s) in 'named.conf'
Ref: "acls" section (https://bind9.readthedocs.io/en/latest/reference.html)
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `{}`

##### `keys`

Data type: `Hash[String, Hash]`

Specify local Remote Name Daemon Control (RNDC) key(s)
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `{}`

##### `enable_views`

Data type: `Boolean`

Specify support for "Views", removes global zone configuration
Ref: "Views" definition (https://tools.ietf.org/html/rfc7719#section-5)
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: ``false``

##### `views`

Data type: `Hash[String, Hash]`

Specify managed DNS "view(s)" depending on query attributes/characteristics
Facilitates multiple "view" instantiations via Hash data resource definitions

Default value: `{}`

##### `zones`

Data type: `Hash[String, Hash]`

Specify authoritative/managed DNS "zone(s)"
Ref: "Zones" definition (https://tools.ietf.org/html/rfc7719#section-6)
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `{}`

##### `additional_options`

Data type: `Hash[String, Data]`

Specify additional generic/free-form options appended to 'options.conf'
Wrapper parameter: 'theforeman-dns' module class parameter

Default value: `{}`

### `profiles::network`

Manages the node's network interface(s), static route(s), rule(s)
Leverages the '/etc/network/interfaces' consumed by `ifup/ifdown`

#### Examples

##### 

```puppet
include profiles::network
```

#### Parameters

The following parameters are available in the `profiles::network` class.

##### `interfaces`

Data type: `Hash`

Specifies the network interface(s) to manage

Default value: `{}`

### `profiles::ssh`

Manages Open Secure SHell (OpenSSH) Client & Server configuration
Responsible for configuration of ssh_config(5) and sshd_config(5) options
Predominantly a wrapper around the 'ghoneycutt-ssh' Forge module

#### Examples

##### 

```puppet
include profiles::ssh
```

#### Parameters

The following parameters are available in the `profiles::ssh` class.

##### `service_ensure`

Data type: `Stdlib::Ensure::Service`

Specify the OpenSSH server (sshd) service state
Wrapper parameter: 'ghoneycutt-ssh' module class parameter

Default value: `'running'`

##### `manage_sshd_config`

Data type: `Boolean`

Specify whether this module manages the OpenSSH server configuration

Default value: ``true``

##### `manage_ssh_config`

Data type: `Boolean`

Specify whether this module manages the OpenSSH client configuration

Default value: ``false``

##### `sshd_config_path`

Data type: `Stdlib::Absolutepath`

Specify the absolute path to the OpenSSH server configuration file
Wrapper parameter: 'ghoneycutt-ssh' module class parameter

Default value: `'/etc/ssh/sshd_config'`

##### `ssh_config_path`

Data type: `Stdlib::Absolutepath`

Specify the absolute path to the OpenSSH client configuration file
Wrapper parameter: 'ghoneycutt-ssh' module class parameter

Default value: `'/etc/ssh/ssh_config'`

##### `permit_root_login`

Data type: `Enum['yes', 'no', 'without-password', 'forced-commands-only']`

Specify the manner in which the 'root' user can access the host
Ref: man sshd_config(5) ~ 'PermitRootLogin'
Wrapper parameter: 'ghoneycutt-ssh' module class parameter

Default value: `'no'`

##### `sshd_password_authentication`

Data type: `Enum['yes', 'no']`

Specify whether password authentication is allowed
Wrapper parameter: 'ghoneycutt-ssh' module class parameter

Default value: `'no'`

##### `sshd_pubkeyauthentication`

Data type: `Enum['yes', 'no']`

Specify whether public key authentication is allowed
Wrapper parameter: 'ghoneycutt-ssh' module class parameter

Default value: `'yes'`

##### `keys`

Data type: `Hash[String, Hash]`

Hash of 'ssh_authorized_key' defining $USER/.ssh/authorized_keys
Wrapper parameter: 'ghoneycutt-ssh' module class parameter

Default value: `{}`

